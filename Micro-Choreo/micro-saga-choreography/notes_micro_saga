F:\MyInstall\apache-zookeeper-3.7.0-bin\bin
bin\zkServer.cmd
F:\MyInstall\kafka_2.13-2.8.0
bin\windows\kafka-server-start.bat config\server.properties

----------------------------h2 db--------------------------------------
http://localhost:8082/console/
user: sa pwd:password

----------------------------http://localhost:8081/order/create------------------------------

POST REQUEST
{
"userId":1,
"productId":3
}

POST RESPONSE
{
    "id": "1f76e365-490a-41aa-b02f-0645da910686",
    "userId": 1,
    "productId": 3,
    "price": 300,
    "orderStatus": "ORDER_CREATED",
    "paymentStatus": null,
    "inventoryStatus": null,
    "version": 0
}

-----------------------------http://localhost:8081/order/all--------------------

GET RESPONSE
[
    {
        "id": "47f56a68-42ac-46aa-bdf4-604d4e6c7bd0",
        "userId": 1,
        "productId": 3,
        "price": 300,
        "orderStatus": "ORDER_COMPLETED",
        "paymentStatus": "RESERVED",
        "inventoryStatus": "RESERVED",
        "version": 2
    },
    {
        "id": "1c2699e5-8830-496c-aa67-11690778ce6b",
        "userId": 1,
        "productId": 3,
        "price": 300,
        "orderStatus": "ORDER_COMPLETED",
        "paymentStatus": "RESERVED",
        "inventoryStatus": "RESERVED",
        "version": 2
    },
    {
        "id": "b4912250-791a-46cc-90f4-e70e11a4ee10",
        "userId": 1,
        "productId": 3,
        "price": 300,
        "orderStatus": "ORDER_COMPLETED",
        "paymentStatus": "RESERVED",
        "inventoryStatus": "RESERVED",
        "version": 2
    },
    {
        "id": "7227eff0-d6fe-4312-8002-517754e11068",
        "userId": 1,
        "productId": 3,
        "price": 300,
        "orderStatus": "ORDER_CANCELLED",
        "paymentStatus": "REJECTED",
        "inventoryStatus": "RESERVED",
        "version": 2
    },
    {
        "id": "1f76e365-490a-41aa-b02f-0645da910686",
        "userId": 1,
        "productId": 3,
        "price": 300,
        "orderStatus": "ORDER_CANCELLED",
        "paymentStatus": "REJECTED",
        "inventoryStatus": "RESERVED",
        "version": 2
    }
]


----------------------------ORDER--------------------------------
OrderConfig.orderSink
EventHandlersConfig.paymentEventConsumer update order with payment status 
EventHandlersConfig.inventoryEventConsumer update order with inventory status 
OrderConfig.orderSupplier
OrderStatusPublisher- Emitting OrderEvent 
OrderStatusUpdateEventHandler.updateOrder 47f56a68-42ac-46aa-bdf4-604d4e6c7bd0
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  null paymentStatus = RESERVED
OrderStatusUpdateEventHandlerupdateOrder .Either inventory status or purchase status is null
OrderStatusUpdateEventHandler.updateOrder 1c2699e5-8830-496c-aa67-11690778ce6b
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  null paymentStatus = RESERVED
OrderStatusUpdateEventHandlerupdateOrder .Either inventory status or purchase status is null
OrderStatusUpdateEventHandler.updateOrder 47f56a68-42ac-46aa-bdf4-604d4e6c7bd0
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  RESERVED paymentStatus = RESERVED
OrderStatusUpdateEventHandler.updateOrder 1c2699e5-8830-496c-aa67-11690778ce6b
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  RESERVED paymentStatus = RESERVED
OrderStatusPublisher- Emitting OrderEvent 
OrderStatusUpdateEventHandler.updateOrder b4912250-791a-46cc-90f4-e70e11a4ee10
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  null paymentStatus = RESERVED
OrderStatusUpdateEventHandlerupdateOrder .Either inventory status or purchase status is null
OrderStatusUpdateEventHandler.updateOrder b4912250-791a-46cc-90f4-e70e11a4ee10
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  RESERVED paymentStatus = RESERVED
OrderStatusPublisher- Emitting OrderEvent 
OrderStatusUpdateEventHandler.updateOrder 7227eff0-d6fe-4312-8002-517754e11068
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  RESERVED paymentStatus = null
OrderStatusUpdateEventHandlerupdateOrder .Either inventory status or purchase status is null
OrderStatusUpdateEventHandler.updateOrder 7227eff0-d6fe-4312-8002-517754e11068
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  RESERVED paymentStatus = REJECTED
OrderStatusUpdateEventHandler.updateOrder raise OrderEvent ORDER_CANCELLED
OrderStatusPublisher- Emitting OrderEvent 
OrderStatusPublisher- Emitting OrderEvent 
OrderStatusUpdateEventHandler.updateOrder 1f76e365-490a-41aa-b02f-0645da910686
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  null paymentStatus = REJECTED
OrderStatusUpdateEventHandlerupdateOrder .Either inventory status or purchase status is null
OrderStatusUpdateEventHandler.updateOrder 1f76e365-490a-41aa-b02f-0645da910686
OrderStatusUpdateEventHandler.updateOrder inventoryStatus =  RESERVED paymentStatus = REJECTED
OrderStatusUpdateEventHandler.updateOrder raise OrderEvent ORDER_CANCELLED
OrderStatusPublisher- Emitting OrderEvent 


------------------------------------PAYMENT---------------------------------

PaymentConfig.processPayment - Order StatusORDER_CREATED
PaymentConfig.processPayment - New Order
 user Balance 1000 purchace price 300
PaymentConfig.processPayment - Order StatusORDER_CREATED
PaymentConfig.processPayment - New Order
 user Balance 700 purchace price 300
PaymentConfig.processPayment - Order StatusORDER_CREATED
PaymentConfig.processPayment - New Order
 user Balance 400 purchace price 300
PaymentConfig.processPayment - Order StatusORDER_CREATED
PaymentConfig.processPayment - New Order
 user Balance 100 purchace price 300
PaymentConfig.processPayment - Order StatusORDER_CANCELLED
PaymentConfig.processPayment - cancel Order
PaymentConfig.processPayment - Order StatusORDER_CREATED
PaymentConfig.processPayment - New Order
 user Balance 100 purchace price 300
PaymentConfig.processPayment - Order StatusORDER_CANCELLED
PaymentConfig.processPayment - cancel Order

----------------------------------INVENTORY-----------------------------------

InventoryConfig.processInventory - Order Status = ORDER_CREATEDInventoryConfig.processInventory - Order Status = ORDER_CREATED
InventoryConfig.processInventory - Order Status = ORDER_CREATED
InventoryConfig.processInventory - Order Status = ORDER_CREATED
InventoryConfig.processInventory - Order Status = ORDER_CANCELLED
InventoryConfig.processInventory - Order Status = ORDER_CREATED
InventoryConfig.processInventory - Order Status = ORDER_CANCELLED








